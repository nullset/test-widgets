"use strict";function getCursorPosition(){var e=window.getSelection(),t=e.anchorNode,n=Array.from(target.childNodes).findIndex(function(e){return e===parentUntilContentEditable(t,target)});return 3===t.nodeType&&(console.log("nodePosition",n),n=e.anchorOffset),n}function parentUntilContentEditable(e,t){return 3===e.nodeType?e.parentNode!==t&&(e=parentUntilContentEditable(e.parentNode,t)):e.hasAttribute("contenteditable")||(e=parentUntilContentEditable(e.parentNode,t)),e}function targetIsNode(e,t){for(var n=document.createTreeWalker(e),o=!1;n.nextNode();)console.log("---",n.currentNode,t),n.currentNode===t&&(o=!0);return o}var target=document.getElementById("blah"),selection=void 0,range=void 0,editableElem=void 0;target.addEventListener("mouseup",function(){console.log(getCursorPosition())}),target.addEventListener("keydown",function(){console.log(getCursorPosition())});var observer=new MutationObserver(function(e){console.log}),config={attributes:!0,childList:!0,characterData:!0};observer.observe(target,config);