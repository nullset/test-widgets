"use strict";!function($){$.fn.stickyTable=function(t){return this.each(function(){function t(t,l){var e=void 0;if("rgba(0,0,0,0)"===t.backgroundColor.replace(/\s/g,"")){var o=getComputedStyle(l.parentNode).backgroundColor;return"rgba(0,0,0,0)"===o.replace(/\s/g,"")?"#fff":o}return t.backgroundColor}function l(t,l,e){var a=t[0].getBoundingClientRect(),n=l[0].getBoundingClientRect();(n.height>a.height||n.width>a.width)&&(t.scrollTop()>0&&l.height()>t.scrollTop()+t.height()||0===t.scrollTop()&&e.originalEvent.deltaY>0||t.scrollLeft()>0&&l.width()>t.scrollLeft()+t.width()||0===t.scrollLeft()&&e.originalEvent.deltaX>0)&&(e.preventDefault(),o(t,l,i,e.originalEvent.deltaX,e.originalEvent.deltaY))}function e(t,l,e){var o,a,n;t.css({transform:"translate("+l+"px, "+e+"px)"})}function o(t,l,o,a,n){var i=t.data("scroll-x"),r=t.data("scroll-y"),c=t.data("max-x"),s=t.data("max-y"),d=i+a,h=r+n;console.log("newY",h,s),d<0?d=0:d>c&&(d=c),h<0?h=0:h>s&&(h=s,console.log("newY reset",h,s)),t.data({"scroll-x":d,"scroll-y":h}),t.scrollLeft(d),t.scrollTop(h),e(o,d,h)}function a(t,l){l.data({"scroll-x":l.scrollLeft(),"scroll-y":l.scrollTop()}),e(t,l.scrollTop())}var n=$(this);if(0===n.find("thead").length||0===n.find("tbody").length)return void console.error(n,"must be called on a <div> that includes a table with both a <thead> and a <tbody> element.");n.addClass("sticky-table-wrapper"),void 0===n.data("scroll-x")&&n.data("scroll-x",0),void 0===n.data("scroll-y")&&n.data("scroll-y",0);var i=n.find(".sticky"),r=n.find("table"),c=r[0],s=n[0],d=c.getBoundingClientRect(),h=s.getBoundingClientRect();n.data("max-x",d.width-s.clientWidth),n.data("max-y",d.height-s.clientHeight),console.log("max-y",n.data("max-y")),n.off("wheel.stickyTable mousewheel.stickyTable",l).on("wheel.stickyTable mousewheel.stickyTable",function(t){l(n,r,t)}),n.off("scroll.stickyTable",a).on("scroll.stickyTable",function(t){r.height()>n.height()&&a(i,n)}),n.scrollTop()>0&&a(i,n)}),this}}(jQuery);