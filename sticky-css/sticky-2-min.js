"use strict";!function($){$.fn.stickyTable=function(t){function e(t,e){var s=$('<div class="sticky-table-wrapper">');return s.css({maxWidth:e.maxWidth,maxHeight:e.maxHeight,overflowX:"none"===e.maxWidth?"hidden":"auto",overflowY:"none"===e.maxHeight?"hidden":"auto"}),t.wrap(s),t.parent()}function s(t,e,s,l){var o=t.originalEvent,n=o.deltaX,r=o.deltaY,i=e.scrollWidth,c=e.scrollHeight,d=e.clientWidth,u=e.clientHeight,f=i-d,h=c-u,p=e.dataset,y=p.scrollX,x=p.scrollY,m=parseInt(y,10)+n,g=parseInt(x,10)+r;m>=f&&(m=f),m<=0&&(m=0),g>=h&&(g=h),g<=0&&(g=0),m>0||g>0?e.classList.add("--is-scrolling"):e.classList.remove("--is-scrolling"),e.dataset.scrollX=m,e.dataset.scrollY=g,e.scrollLeft=m,e.scrollTop=g,a(l,m,g)}function l(t,e,s){requestAnimationFrame(function(){console.log("scroll fired"),o(t,e,s)})}function o(t,e,s){a(t,e,s)}function n(t){var e=t/10,s=6,l=3;return e>6?6:e<3?3:e}function a(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;t.each(function(t,l){if(!l.classList.contains("sticky-scroll-x")||!l.classList.contains("sticky-scroll-y")){var o=n(e),a=n(s),r=[],i=0;l.style.setProperty("--box-shadow",o+"px "+a+"px "+o+"px rgba(0,0,0,0.15), "+o+"px "+a+"px "+a+"px  rgba(0,0,0,0.15)"),l.classList.contains("sticky-scroll-x")||(r.push("translateX("+e+"px)"),i++),l.classList.contains("sticky-scroll-y")||(r.push("translateY("+s+"px)"),i++),"THEAD"===l.parentNode.parentNode.tagName&&(i+=10),"TH"===l.tagName&&(i+=5),l.style.transform=r.join(" "),l.style.zIndex=i}})}function r(t){var e=t.currentPosition,s=e.scrollX,l=e.scrollY,o=e.maxX,n=e.maxY,a=t.deltaX,r=t.deltaY,i=s+a,c=l+r;return i<0?i=0:i>o&&(i=o),c<0?c=0:c>n&&(c=n),{newX:i,newY:c}}var i=this;return this.each(function(){var t=i,o=t[0],n=window.getComputedStyle(o),r=e(t,n),c=r[0],d=t.find("th.sticky, td.sticky"),u=!1;return c.dataset.scrollX=0,c.dataset.scrollY=0,a(d),d.each(function(t,e){cellStyles=window.getComputedStyle(e),["Top","Right","Bottom","Left"].forEach(function(t){["Width"].forEach(function(s){e.style.setProperty("--border-"+t.toLowerCase()+"-"+s.toLowerCase(),cellStyles["border"+t+s])})})}),r.off("wheel.stickyTable mousewheel.stickyTable",s).on("wheel.stickyTable mousewheel.stickyTable",function(t){u=!0,t.preventDefault(),s(t,c,r,d)}),r.off("scroll.stickyTable",l).on("scroll.stickyTable",function(){u?u=!1:l(r,d,r.scrollLeft(),r.scrollTop())}),{$table:t,$wrapper:r}}),this}}(jQuery);