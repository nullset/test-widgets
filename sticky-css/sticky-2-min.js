"use strict";!function($){$.fn.stickyTable=function(t){function e(t,e){var l=$('<div class="sticky-table-wrapper">');return l.css({maxWidth:e.maxWidth,maxHeight:e.maxHeight,overflowX:"none"===e.maxWidth?"hidden":"auto",overflowY:"none"===e.maxHeight?"hidden":"auto"}),l.data({scrollX:0,scrollY:0}),t.wrap(l),t.parent()}function l(t,e,l,o){var r=o.originalEvent,a=r.deltaX,n=r.deltaY;if((t.height()>e.height()||t.width()>e.width())&&(e.scrollTop()>0&&t.height()>e.scrollTop()+e.height()||0===e.scrollTop()&&n>0||e.scrollLeft()>0&&t.width()>e.scrollLeft()+e.width()||0===e.scrollLeft()&&a>0)){o.preventDefault();var c=i({currentPosition:e.data(),deltaX:a,deltaY:n}),d=c.newX,h=c.newY;e.scrollLeft(d),e.scrollTop(h),s(e,l,d,h)}}function o(t,e,l,o){requestAnimationFrame(function(){console.log("scroll fired"),s(t,e,l,o)})}function s(t,e,l,o){t.data({scrollX:l,scrollY:o}),a(e,l,o)}function r(t){var e=t/10,l=6,o=3;return e>6?6:e<3?3:e}function a(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;t.each(function(t,o){var s=r(e),a=r(l),i=[],n=0;o.style.setProperty("--box-shadow",s+"px "+a+"px "+s+"px rgba(0,0,0,0.15), "+s+"px "+a+"px "+a+"px  rgba(0,0,0,0.15)"),o.classList.contains("sticky-scroll-x")&&o.classList.contains("sticky-scroll-y")||(o.classList.contains("sticky-scroll-x")||(i.push("translateX("+e+"px)"),n++),o.classList.contains("sticky-scroll-y")||(i.push("translateY("+l+"px)"),n++),"THEAD"===o.parentNode.parentNode.tagName&&(n+=10),"TH"===o.tagName&&(n+=5),o.style.transform=i.join(" "),o.style.zIndex=n)})}function i(t){var e=t.currentPosition,l=e.scrollX,o=e.scrollY,s=e.maxX,r=e.maxY,a=t.deltaX,i=t.deltaY,n=l+a,c=o+i;return n<0?n=0:n>s&&(n=s),c<0?c=0:c>r&&(c=r),{newX:n,newY:c}}var n=this;return this.each(function(){var t=n,s=t[0],r=window.getComputedStyle(s),i=e(t,r),c=t.find("th.sticky, td.sticky"),d=!1;return a(c),c.each(function(t,e){cellStyles=window.getComputedStyle(e),["Top","Right","Bottom","Left"].forEach(function(t){["Width"].forEach(function(l){e.style.setProperty("--border-"+t.toLowerCase()+"-"+l.toLowerCase(),cellStyles["border"+t+l])})})}),i.off("wheel.stickyTable mousewheel.stickyTable",l).on("wheel.stickyTable mousewheel.stickyTable",function(t){d=!0,t.preventDefault();var e=t.originalEvent,l=e.deltaX,o=e.deltaY,s=i[0],r=s.scrollWidth,n=s.scrollHeight,h=r-i[0].clientWidth,f=n-i[0].clientHeight,u=i.data(),p=u.scrollX,y=u.scrollY,w=p+l,g=y+o;w>=h&&(w=h),w<=0&&(w=0),g>=f&&(g=f),g<=0&&(g=0),w>0||g>0?i.addClass("--is-scrolling"):i.removeClass("--is-scrolling"),i.data({scrollX:w,scrollY:g}),i.scrollLeft(w).scrollTop(g),a(c,w,g)}),i.off("scroll.stickyTable",o).on("scroll.stickyTable",function(){d?d=!1:o(i,c,i.scrollLeft(),i.scrollTop())}),{$table:t,$wrapper:i}}),this}}(jQuery);