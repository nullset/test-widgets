"use strict";!function($){$.fn.stickyTable=function(t){function e(t,e){var l=$('<div class="sticky-table-wrapper">');return l.css({maxWidth:e.maxWidth,maxHeight:e.maxHeight,overflowX:"none"===e.maxWidth?"hidden":"auto",overflowY:"none"===e.maxHeight?"hidden":"auto"}),l.data({scrollX:0,scrollY:0}),t.wrap(l),o(t),t.parent()}function o(t){var e=t[0],o=e.getBoundingClientRect(),l=e.parentElement;$(l).data({maxX:o.width-l.clientWidth,maxY:o.height-l.clientHeight})}function l(t,e,o,l){var n=l.originalEvent,r=n.deltaX,c=n.deltaY;(t.height()>e.height()||t.width()>e.width())&&(e.scrollTop()>0&&t.height()>e.scrollTop()+e.height()||0===e.scrollTop()&&c>0||e.scrollLeft()>0&&t.width()>e.scrollLeft()+e.width()||0===e.scrollLeft()&&r>0)&&(l.preventDefault(),requestAnimationFrame(function(){var t=a({currentPosition:e.data(),deltaX:r,deltaY:c}),l=t.newX,n=t.newY;e.scrollLeft(l),e.scrollTop(n),i(e,o,l,n)}))}function n(t,e,o,l){requestAnimationFrame(function(){console.log("scroll fired"),i(t,e,o,l)})}function i(t,e,o,l){t.data({scrollX:o,scrollY:l}),r(e,o,l)}function r(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;t.css({transform:"translate("+e+"px, "+o+"px)"})}function a(t){var e=t.currentPosition,o=e.scrollX,l=e.scrollY,n=e.maxX,i=e.maxY,r=t.deltaX,a=t.deltaY,c=o+r,s=l+a;return console.log("deltaX",r,"scrollX",o,"newX",c),c<0?c=0:c>n&&(c=n),s<0?s=0:s>i&&(s=i),{newX:c,newY:s}}var c=this;return this.each(function(){var t=c,o=window.getComputedStyle(t[0]),i=e(t,o),a=t.find("th.sticky, td.sticky"),s=!1,h=0;return r(a),a.each(function(t,e){cellStyles=window.getComputedStyle(e),["Top","Right","Bottom","Left"].forEach(function(t){["Width","Style","Color"].forEach(function(o){e.style.setProperty("--border-"+t.toLowerCase()+"-"+o.toLowerCase(),cellStyles["border"+t+o])})})}),i.off("wheel.stickyTable mousewheel.stickyTable",l).on("wheel.stickyTable mousewheel.stickyTable",function(e){s=!0,l(t,i,a,e)}),i.off("scroll.stickyTable",n).on("scroll.stickyTable",function(){s?s=!1:n(i,a,i.scrollLeft(),i.scrollTop())}),{$table:t,$wrapper:i}}),this}}(jQuery);