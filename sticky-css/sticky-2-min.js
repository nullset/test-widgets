"use strict";!function($){$.fn.stickyTable=function(t){function e(t,e){var l=$('<div class="sticky-table-wrapper">');return l.css({maxWidth:e.maxWidth,maxHeight:e.maxHeight,overflowX:"none"===e.maxWidth?"hidden":"auto",overflowY:"none"===e.maxHeight?"hidden":"auto"}),l.data({scrollX:0,scrollY:0}),t.wrap(l),t.parent()}function l(t,e,l,o){var i=o.originalEvent,a=i.deltaX,s=i.deltaY;if((t.height()>e.height()||t.width()>e.width())&&(e.scrollTop()>0&&t.height()>e.scrollTop()+e.height()||0===e.scrollTop()&&s>0||e.scrollLeft()>0&&t.width()>e.scrollLeft()+e.width()||0===e.scrollLeft()&&a>0)){o.preventDefault();var c=n({currentPosition:e.data(),deltaX:a,deltaY:s}),d=c.newX,h=c.newY;e.scrollLeft(d),e.scrollTop(h),r(e,l,d,h)}}function o(t,e,l,o){requestAnimationFrame(function(){console.log("scroll fired"),r(t,e,l,o)})}function r(t,e,l,o){t.data({scrollX:l,scrollY:o}),i(e,l,o)}function i(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;t.each(function(t,o){o.style.transform="translate("+e+"px, "+l+"px)";var r=parseInt(e/10,10),i=parseInt(l/10,10);r>6&&(r=6),0===r&&(r=3),i>6&&(i=6),0===i&&(i=3),o.style.setProperty("--box-shadow",r+"px "+i+"px "+r+"px rgba(0,0,0,0.15), "+r+"px "+i+"px "+i+"px  rgba(0,0,0,0.15)")})}function n(t){var e=t.currentPosition,l=e.scrollX,o=e.scrollY,r=e.maxX,i=e.maxY,n=t.deltaX,a=t.deltaY,s=l+n,c=o+a;return s<0?s=0:s>r&&(s=r),c<0?c=0:c>i&&(c=i),{newX:s,newY:c}}var a=this;return this.each(function(){var t=a,r=t[0],n=window.getComputedStyle(r),s=e(t,n),c=t.find("th.sticky, td.sticky"),d=!1;return i(c),c.each(function(t,e){cellStyles=window.getComputedStyle(e),["Top","Right","Bottom","Left"].forEach(function(t){["Width"].forEach(function(l){e.style.setProperty("--border-"+t.toLowerCase()+"-"+l.toLowerCase(),cellStyles["border"+t+l])})})}),s.off("wheel.stickyTable mousewheel.stickyTable",l).on("wheel.stickyTable mousewheel.stickyTable",function(t){d=!0,t.preventDefault();var e=t.originalEvent,l=e.deltaX,o=e.deltaY,r=s[0],n=r.scrollWidth,a=r.scrollHeight,h=n-s[0].clientWidth,f=a-s[0].clientHeight,u=s.data(),p=u.scrollX,w=u.scrollY,g=p+l,y=w+o;g>=h&&(g=h),g<=0&&(g=0),y>=f&&(y=f),y<=0&&(y=0),g>0||y>0?s.addClass("--is-scrolling"):s.removeClass("--is-scrolling"),s.data({scrollX:g,scrollY:y}),s.scrollLeft(g).scrollTop(y),i(c,g,y)}),s.off("scroll.stickyTable",o).on("scroll.stickyTable",function(){d?d=!1:o(s,c,s.scrollLeft(),s.scrollTop())}),{$table:t,$wrapper:s}}),this}}(jQuery);