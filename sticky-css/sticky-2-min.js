"use strict";!function($){$.fn.stickyTable=function(t){function e(t,e){var l=$('<div class="sticky-table-wrapper">');return l.css({maxWidth:e.maxWidth,maxHeight:e.maxHeight,overflowX:"none"===e.maxWidth?"hidden":"auto",overflowY:"none"===e.maxHeight?"hidden":"auto"}),l.data({scrollX:0,scrollY:0}),t.wrap(l),o(t),t.parent()}function o(t){var e=t[0],o=e.getBoundingClientRect(),l=e.parentElement;$(l).data({maxX:o.width-l.clientWidth,maxY:o.height-l.clientHeight})}function l(t,e,o,l){var n=l.originalEvent,i=n.deltaX,c=n.deltaY;if((t.height()>e.height()||t.width()>e.width())&&(e.scrollTop()>0&&t.height()>e.scrollTop()+e.height()||0===e.scrollTop()&&c>0||e.scrollLeft()>0&&t.width()>e.scrollLeft()+e.width()||0===e.scrollLeft()&&i>0)){l.preventDefault();var s=a({currentPosition:e.data(),deltaX:i,deltaY:c}),h=s.newX,d=s.newY;e.scrollLeft(h),e.scrollTop(d),r(e,o,h,d)}}function n(t,e,o,l){requestAnimationFrame(function(){console.log("scroll fired"),r(t,e,o,l)})}function r(t,e,o,l){t.data({scrollX:o,scrollY:l}),i(e,o,l)}function i(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;t.css({transform:"translate("+e+"px, "+o+"px)"})}function a(t){var e=t.currentPosition,o=e.scrollX,l=e.scrollY,n=e.maxX,r=e.maxY,i=t.deltaX,a=t.deltaY,c=o+i,s=l+a;return c<0?c=0:c>n&&(c=n),s<0?s=0:s>r&&(s=r),{newX:c,newY:s}}var c=this;return this.each(function(){var t=c,o=window.getComputedStyle(t[0]),r=e(t,o),a=t.find("th.sticky, td.sticky"),s=!1;return i(a),a.each(function(t,e){cellStyles=window.getComputedStyle(e),["Top","Right","Bottom","Left"].forEach(function(t){["Width","Style","Color"].forEach(function(o){e.style.setProperty("--border-"+t.toLowerCase()+"-"+o.toLowerCase(),cellStyles["border"+t+o])})}),e.style.setProperty("--color","red")}),r.off("wheel.stickyTable mousewheel.stickyTable",l).on("wheel.stickyTable mousewheel.stickyTable",function(e){s=!0,l(t,r,a,e)}),r.off("scroll.stickyTable",n).on("scroll.stickyTable",function(){s?s=!1:n(r,a,r.scrollLeft(),r.scrollTop())}),{$table:t,$wrapper:r}}),this}}(jQuery);