"use strict";!function($){$.fn.stickyTable=function(t){function e(t,e){var l=$('<div class="sticky-table-wrapper">');return l.css({maxWidth:e.maxWidth,maxHeight:e.maxHeight,overflowX:"none"===e.maxWidth?"hidden":"auto",overflowY:"none"===e.maxHeight?"hidden":"auto"}),l.data({scrollX:0,scrollY:0}),t.wrap(l),t.parent()}function l(t,e,l,o){var r=o.originalEvent,i=r.deltaX,n=r.deltaY;if((t.height()>e.height()||t.width()>e.width())&&(e.scrollTop()>0&&t.height()>e.scrollTop()+e.height()||0===e.scrollTop()&&n>0||e.scrollLeft()>0&&t.width()>e.scrollLeft()+e.width()||0===e.scrollLeft()&&i>0)){o.preventDefault();var c=a({currentPosition:e.data(),deltaX:i,deltaY:n}),d=c.newX,h=c.newY;e.scrollLeft(d),e.scrollTop(h),s(e,l,d,h)}}function o(t,e,l,o){requestAnimationFrame(function(){console.log("scroll fired"),s(t,e,l,o)})}function s(t,e,l,o){t.data({scrollX:l,scrollY:o}),i(e,l,o)}function r(t){var e=t/10,l=6,o=3;return e>6?6:e<3?3:e}function i(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;t.each(function(t,o){if(!o.classList.contains("sticky-scroll-x")||!o.classList.contains("sticky-scroll-y")){var s=r(e),i=r(l),a=[],n=0;o.style.setProperty("--box-shadow",s+"px "+i+"px "+s+"px rgba(0,0,0,0.15), "+s+"px "+i+"px "+i+"px  rgba(0,0,0,0.15)"),o.classList.contains("sticky-scroll-x")||(a.push("translateX("+e+"px)"),n++),o.classList.contains("sticky-scroll-y")||(a.push("translateY("+l+"px)"),n++),"THEAD"===o.parentNode.parentNode.tagName&&(n+=10),"TH"===o.tagName&&(n+=5),o.style.transform=a.join(" "),o.style.zIndex=n}})}function a(t){var e=t.currentPosition,l=e.scrollX,o=e.scrollY,s=e.maxX,r=e.maxY,i=t.deltaX,a=t.deltaY,n=l+i,c=o+a;return n<0?n=0:n>s&&(n=s),c<0?c=0:c>r&&(c=r),{newX:n,newY:c}}var n=this;return this.each(function(){var t=n,s=t[0],r=window.getComputedStyle(s),a=e(t,r),c=t.find("th.sticky, td.sticky"),d=!1;return i(c),c.each(function(t,e){cellStyles=window.getComputedStyle(e),["Top","Right","Bottom","Left"].forEach(function(t){["Width"].forEach(function(l){e.style.setProperty("--border-"+t.toLowerCase()+"-"+l.toLowerCase(),cellStyles["border"+t+l])})})}),a.off("wheel.stickyTable mousewheel.stickyTable",l).on("wheel.stickyTable mousewheel.stickyTable",function(t){d=!0,t.preventDefault();var e=t.originalEvent,l=e.deltaX,o=e.deltaY,s=a[0],r=s.scrollWidth,n=s.scrollHeight,h=r-a[0].clientWidth,f=n-a[0].clientHeight,u=a.data(),p=u.scrollX,y=u.scrollY,w=p+l,g=y+o;w>=h&&(w=h),w<=0&&(w=0),g>=f&&(g=f),g<=0&&(g=0),w>0||g>0?a.addClass("--is-scrolling"):a.removeClass("--is-scrolling"),a.data({scrollX:w,scrollY:g}),a.scrollLeft(w).scrollTop(g),i(c,w,g)}),a.off("scroll.stickyTable",o).on("scroll.stickyTable",function(){d?d=!1:o(a,c,a.scrollLeft(),a.scrollTop())}),{$table:t,$wrapper:a}}),this}}(jQuery);