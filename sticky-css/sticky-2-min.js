"use strict";!function($){$.fn.stickyTable=function(t){function e(t,e){var n=$('<div class="sticky-table-wrapper">');return n.css({maxWidth:e.maxWidth,maxHeight:e.maxHeight,overflowX:"none"===e.maxWidth?"hidden":"auto",overflowY:"none"===e.maxHeight?"hidden":"auto"}),n.data({scrollX:0,scrollY:0}),t.wrap(n),l(t),t.parent()}function l(t){var e=t[0],l=e.getBoundingClientRect(),n=e.parentElement;$(n).data({maxX:l.width-n.clientWidth,maxY:l.height-n.clientHeight})}function n(t,e,l,n){var i=n.originalEvent,r=i.deltaX,c=i.deltaY;if((t.height()>e.height()||t.width()>e.width())&&(e.scrollTop()>0&&t.height()>e.scrollTop()+e.height()||0===e.scrollTop()&&c>0||e.scrollLeft()>0&&t.width()>e.scrollLeft()+e.width()||0===e.scrollLeft()&&r>0)){n.preventDefault();var s=a({currentPosition:e.data(),deltaX:r,deltaY:c}),h=s.newX,d=s.newY;e.scrollLeft(h),e.scrollTop(d),o(e,l,h,d)}}function i(t,e,l,n){requestAnimationFrame(function(){console.log("scroll fired"),o(t,e,l,n)})}function o(t,e,l,n){t.data({scrollX:l,scrollY:n}),r(e,l,n)}function r(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;t.css({transform:"translate("+e+"px, "+l+"px)"})}function a(t){var e=t.currentPosition,l=e.scrollX,n=e.scrollY,i=e.maxX,o=e.maxY,r=t.deltaX,a=t.deltaY,c=l+r,s=n+a;return c<0?c=0:c>i&&(c=i),s<0?s=0:s>o&&(s=o),{newX:c,newY:s}}var c=this;return this.each(function(){var t=c,l=window.getComputedStyle(t[0]),o=e(t,l),a=t.find("th.sticky, td.sticky"),s=!1;return r(a),o.off("wheel.stickyTable mousewheel.stickyTable",n).on("wheel.stickyTable mousewheel.stickyTable",function(e){s=!0,n(t,o,a,e)}),o.off("scroll.stickyTable",i).on("scroll.stickyTable",function(){s?s=!1:i(o,a,o.scrollLeft(),o.scrollTop())}),{$table:t,$wrapper:o}}),this}}(jQuery);