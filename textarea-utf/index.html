<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
  <style>
    .blink {
      border-left: 1px solid;
      margin-left: -0.5px;
      margin-right: -0.5px;
      animation: blinker 1s infinite;
    }

    @keyframes blinker {  
      50% { opacity: 0; }
    }

.waitingForConnection {
  -webkit-animation-name: blinker;
  -webkit-animation-iteration-count: infinite;
  -webkit-animation-timing-function: cubic-bezier(.5, 0, 1, 1);
  -webkit-animation-duration: 1.7s;
}
  </style>
</head>
<body>

  <form action="" accept-charset="UTF-8">
      <textarea>2&#002;11&#001c;5&#0002;45&#001c;3&#0002;788&#0019;87&#0019;GH&#0019;E\u0044\u0045</textarea>
  </form>
    
  <textarea id="input">
    fruits:
    ①
    ②apple③
    ②ban󰀀ana③
    ②cantelope③
    ④
    and other things
    fruits:
    ①
    ②apple③
    ②ban⎥ana③
    ②cantelope③
    ④
    and other things
    fruits:
    ①
    ②apple③
    ②ban⎥ana③
    ②cantelope③
    ④
    and other things
    fruits:
    ①
    ②apple③
    ②ban⎥ana③
    ②cantelope③
    ④
    and other things
    fruits:
    ①
    ②apple③
    ②ban⎥ana③
    ②cantelope③
    ④
    and other things
    fruits:
    ①
    ②apple③
    ②ban⎥ana③
    ②cantelope③
    ④
    and other things
    fruits:
    ①
    ②apple③
    ②ban⎥ana③
    ②cantelope③
    ④
    and other things
    fruits:
    ①
    ②apple③
    ②ban⎥ana③
    ②cantelope③
    ④
    and other things
    fruits:
    ①
    ②apple③
    ②ban⎥ana③
    ②cantelope③
    ④
    and other things
    fruits:
    ①
    ②apple③
    ②ban⎥ana③
    ②cantelope③
    ④
    and other things
    fruits:
    ①
    ②apple③
    ②ban⎥ana③
    ②cantelope③
    ④
    and other things
    fruits:
    ①
    ②apple③
    ②ban⎥ana③
    ②cantelope③
    ④
    and other things
    fruits:
    ①
    ②apple③
    ②ban⎥ana③
    ②cantelope③
    ④
    and other things
    fruits:
    ①
    ②apple③
    ②ban⎥ana③
    ②cantelope③
    ④
    and other things
    fruits:
    ①
    ②apple③
    ②ban⎥ana③
    ②cantelope③
    ④
    and other things
    fruits:
    ①
    ②apple③
    ②ban⎥ana③
    ②cantelope③
    ④
    and other things
    fruits:
    ①
    ②apple③
    ②ban⎥ana③
    ②cantelope③
    ④
    and other things
    fruits:
    ①
    ②apple③
    ②ban⎥ana③
    ②cantelope③
    ④
    and other things
    fruits:
    ①
    ②apple③
    ②ban⎥ana③
    ②cantelope③
    ④
    and other things
    fruits:
    ①
    ②apple③
    ②ban⎥ana③
    ②cantelope③
    ④
    and other things
    fruits:
    ①
    ②apple③
    ②ban⎥ana③
    ②cantelope③
    ④
    and other things
    fruits:
    ①
    ②apple③
    ②ban⎥ana③
    ②cantelope③
    ④
    and other things
    fruits:
    ①
    ②apple③
    ②ban⎥ana③
    ②cantelope③
    ④
    and other things
    fruits:
    ①
    ②apple③
    ②ban⎥ana③
    ②cantelope③
    ④
    and other things
    fruits:
    ①
    ②apple③
    ②ban⎥ana③
    ②cantelope③
    ④
    and other things
    fruits:
    ①
    ②apple③
    ②ban⎥ana③
    ②cantelope③
    ④
    and other things
    fruits:
    ①
    ②apple③
    ②ban⎥ana③
    ②cantelope③
    ④
    and other things
    fruits:
    ①
    ②apple③
    ②ban⎥ana③
    ②cantelope③
    ④
    and other things
    fruits:
    ①
    ②apple③
    ②ban⎥ana③
    ②cantelope③
    ④
    and other things
    fruits:
    ①
    ②apple③
    ②ban⎥ana③
    ②cantelope③
    ④
    and other things
    fruits:
    ①
    ②apple③
    ②ban⎥ana③
    ②cantelope③
    ④
    and other things
    fruits:
    ①
    ②apple③
    ②ban⎥ana③
    ②cantelope③
    ④
    and other things
    fruits:
    ①
    ②apple③
    ②ban⎥ana③
    ②cantelope③
    ④
    and other things
    fruits:
    ①
    ②apple③
    ②ban⎥ana③
    ②cantelope③
    ④
    and other things
    fruits:
    ①
    ②apple③
    ②ban⎥ana③
    ②cantelope③
    ④
    and other things
    fruits:
    ①
    ②apple③
    ②ban⎥ana③
    ②cantelope③
    ④
    and other things
    fruits:
    ①
    ②apple③
    ②ban⎥ana③
    ②cantelope③
    ④
    and other things
    fruits:
    ①
    ②apple③
    ②ban⎥ana③
    ②cantelope③
    ④
    and other things
    fruits:
    ①
    ②apple③
    ②ban⎥ana③
    ②cantelope③
    ④
    and other things
    fruits:
    ①
    ②apple③
    ②ban⎥ana③
    ②cantelope③
    ④
    and other things
    fruits:
    ①
    ②apple③
    ②ban⎥ana③
    ②cantelope③
    ④
    and other things
    fruits:
    ①
    ②apple③
    ②ban⎥ana③
    ②cantelope③
    ④
    and other things
    fruits:
    ①
    ②apple③
    ②ban⎥ana③
    ②cantelope③
    ④
    and other things
    fruits:
    ①
    ②apple③
    ②ban⎥ana③
    ②cantelope③
    ④
    and other things
    fruits:
    ①
    ②apple③
    ②ban⎥ana③
    ②cantelope③
    ④
    and other things
    fruits:
    ①
    ②apple③
    ②ban⎥ana③
    ②cantelope③
    ④
    and other things
    fruits:
    ①
    ②apple③
    ②ban⎥ana③
    ②cantelope③
    ④
    and other things
    fruits:
    ①
    ②apple③
    ②ban⎥ana③
    ②cantelope③
    ④
    and other things
    fruits:
    ①
    ②apple③
    ②ban⎥ana③
    ②cantelope③
    ④
    and other things
  </textarea>

  <textarea id="input">
      fruits:
      ①
      ②apple③
      ②ban󰀀ana③
      ②cantelope③
      ④
      and other things
      fruits:
      ①
      ②apple③
      ②ban⎥ana③
      ②cantelope③
      ④
      and other things
      fruits:
      ①
      ②apple③
      ②ban⎥ana③
      ②cantelope③
      ④
      and other things
      fruits:
      ①
      ②apple③
      ②ban⎥ana③
      ②cantelope③
      ④
      and other things
      fruits:
      ①
      ②apple③
      ②ban⎥ana③
      ②cantelope③
      ④
      and other things
      fruits:
      ①
      ②apple③
      ②ban⎥ana③
      ②cantelope③
      ④
      and other things
      fruits:
      ①
      ②apple③
      ②ban⎥ana③
      ②cantelope③
      ④
      and other things
      fruits:
      ①
      ②apple③
      ②ban⎥ana③
      ②cantelope③
      ④
      and other things
      fruits:
      ①
      ②apple③
      ②ban⎥ana③
      ②cantelope③
      ④
      and other things
      fruits:
      ①
      ②apple③
      ②ban⎥ana③
      ②cantelope③
      ④
      and other things
      fruits:
      ①
      ②apple③
      ②ban⎥ana③
      ②cantelope③
      ④
      and other things
      fruits:
      ①
      ②apple③
      ②ban⎥ana③
      ②cantelope③
      ④
      and other things
      fruits:
      ①
      ②apple③
      ②ban⎥ana③
      ②cantelope③
      ④
      and other things
      fruits:
      ①
      ②apple③
      ②ban⎥ana③
      ②cantelope③
      ④
      and other things
      fruits:
      ①
      ②apple③
      ②ban⎥ana③
      ②cantelope③
      ④
      and other things
      fruits:
      ①
      ②apple③
      ②ban⎥ana③
      ②cantelope③
      ④
      and other things
      fruits:
      ①
      ②apple③
      ②ban⎥ana③
      ②cantelope③
      ④
      and other things
      fruits:
      ①
      ②apple③
      ②ban⎥ana③
      ②cantelope③
      ④
      and other things
      fruits:
      ①
      ②apple③
      ②ban⎥ana③
      ②cantelope③
      ④
      and other things
      fruits:
      ①
      ②apple③
      ②ban⎥ana③
      ②cantelope③
      ④
      and other things
      fruits:
      ①
      ②apple③
      ②ban⎥ana③
      ②cantelope③
      ④
      and other things
      fruits:
      ①
      ②apple③
      ②ban⎥ana③
      ②cantelope③
      ④
      and other things
      fruits:
      ①
      ②apple③
      ②ban⎥ana③
      ②cantelope③
      ④
      and other things
      fruits:
      ①
      ②apple③
      ②ban⎥ana③
      ②cantelope③
      ④
      and other things
      fruits:
      ①
      ②apple③
      ②ban⎥ana③
      ②cantelope③
      ④
      and other things
      fruits:
      ①
      ②apple③
      ②ban⎥ana③
      ②cantelope③
      ④
      and other things
      fruits:
      ①
      ②apple③
      ②ban⎥ana③
      ②cantelope③
      ④
      and other things
      fruits:
      ①
      ②apple③
      ②ban⎥ana③
      ②cantelope③
      ④
      and other things
      fruits:
      ①
      ②apple③
      ②ban⎥ana③
      ②cantelope③
      ④
      and other things
      fruits:
      ①
      ②apple③
      ②ban⎥ana③
      ②cantelope③
      ④
      and other things
      fruits:
      ①
      ②apple③
      ②ban⎥ana③
      ②cantelope③
      ④
      and other things
      fruits:
      ①
      ②apple③
      ②ban⎥ana③
      ②cantelope③
      ④
      and other things
      fruits:
      ①
      ②apple③
      ②ban⎥ana③
      ②cantelope③
      ④
      and other things
      fruits:
      ①
      ②apple③
      ②ban⎥ana③
      ②cantelope③
      ④
      and other things
      fruits:
      ①
      ②apple③
      ②ban⎥ana③
      ②cantelope③
      ④
      and other things
      fruits:
      ①
      ②apple③
      ②ban⎥ana③
      ②cantelope③
      ④
      and other things
      fruits:
      ①
      ②apple③
      ②ban⎥ana③
      ②cantelope③
      ④
      and other things
      fruits:
      ①
      ②apple③
      ②ban⎥ana③
      ②cantelope③
      ④
      and other things
      fruits:
      ①
      ②apple③
      ②ban⎥ana③
      ②cantelope③
      ④
      and other things
      fruits:
      ①
      ②apple③
      ②ban⎥ana③
      ②cantelope③
      ④
      and other things
      fruits:
      ①
      ②apple③
      ②ban⎥ana③
      ②cantelope③
      ④
      and other things
      fruits:
      ①
      ②apple③
      ②ban⎥ana③
      ②cantelope③
      ④
      and other things
      fruits:
      ①
      ②apple③
      ②ban⎥ana③
      ②cantelope③
      ④
      and other things
      fruits:
      ①
      ②apple③
      ②ban⎥ana③
      ②cantelope③
      ④
      and other things
      fruits:
      ①
      ②apple③
      ②ban⎥ana③
      ②cantelope③
      ④
      and other things
      fruits:
      ①
      ②apple③
      ②ban⎥ana③
      ②cantelope③
      ④
      and other things
      fruits:
      ①
      ②apple③
      ②ban⎥ana③
      ②cantelope③
      ④
      and other things
      fruits:
      ①
      ②apple③
      ②ban⎥ana③
      ②cantelope③
      ④
      and other things
      fruits:
      ①
      ②apple③
      ②ban⎥ana③
      ②cantelope③
      ④
      and other things
    </textarea>
  
  <div contenteditable="false" id="result" style="border: 1px solid red;"></div>

  <script>
  
  const transform = {
    '①': '<ul>',
    '②': '<li>',
    '③': '</li>',
    '④': '</ul>',
    '⎥': '<span class="blink"></span>'
  };

  const t2 = {
    '󰀀': {
      name: 'cursor',
      codePoint: '0xF0000',
      type: 'cursor', // element-open, element-close, style, cursor, selection-start, selection-end,
      transform: {
        type: 'insert',
        value: '<span class="blink"></span>'
      },
      '󰀁': {
        name: '<li>',
        codePoint: '0xF0001',
        type: 'element-open',
        transform: {
          type: 'insert',
          value: '<li>'
        }
      },
      '󰀂': {
        name: '</li>',
        codePoint: '0xF0002',
        type: 'element-close',
        transform: {
          type: 'insert',
          value: '</li>'
        }
      },
    }
  }

  // Selection
    // start
    // end

  // paragraph
  // h1-h6
  // code block
  // quote
  // highlight

  // bold
  // italic
  // underline
  // strike

  // left-align
  // center-align
  // right-align
  // justify

  // unordered list
  // ordered list
  // indent
  // outdent

  // table
    // row
    // cell
  // link
  // Image
  // clear formatting

  const result = document.querySelector('#result');
  const input = document.querySelector('#input');

  let data = input.value;

  // Object.keys(transform).forEach((key) => {
  //   const regex = new RegExp(key, 'g')
  //   data = data.replace(regex, transform[key]);
  // });

  Object.keys(t2).forEach((key) => {
    const regex = new RegExp(key, 'g');
    data = data.replace(regex, t2[key].transform.value);
  });

  result.innerHTML = data;
  </script>
        
</body>
</html>