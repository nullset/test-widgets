!function($){$.extend($.fn,{livequery:function(e,i,t){var u=this,n;return $.isFunction(e)&&(t=i,i=e,e=void 0),$.each($.livequery.queries,function(r,s){if(!(u.selector!=s.selector||u.context!=s.context||e!=s.type||i&&i.$lqguid!=s.fn.$lqguid||t&&t.$lqguid!=s.fn2.$lqguid))return(n=s)&&!1}),n=n||new $.livequery(this.selector,this.context,e,i,t),n.stopped=!1,n.run(),this},expire:function(e,i,t){var u=this;return $.isFunction(e)&&(t=i,i=e,e=void 0),$.each($.livequery.queries,function(n,r){u.selector!=r.selector||u.context!=r.context||e&&e!=r.type||i&&i.$lqguid!=r.fn.$lqguid||t&&t.$lqguid!=r.fn2.$lqguid||this.stopped||$.livequery.stop(r.id)}),this}}),$.livequery=function(e,i,t,u,n){return this.selector=e,this.context=i,this.type=t,this.fn=u,this.fn2=n,this.elements=[],this.stopped=!1,this.id=$.livequery.queries.push(this)-1,u.$lqguid=u.$lqguid||$.livequery.guid++,n&&(n.$lqguid=n.$lqguid||$.livequery.guid++),this},$.livequery.prototype={stop:function(){var e=this;this.type?this.elements.unbind(this.type,this.fn):this.fn2&&this.elements.each(function(i,t){e.fn2.apply(t)}),this.elements=[],this.stopped=!0},run:function(){if(!this.stopped){var e=this,i=this.elements,t=$(this.selector,this.context),u=t.not(i);this.elements=t,this.type?(u.bind(this.type,this.fn),i.length>0&&$.each(i,function(i,u){$.inArray(u,t)<0&&$.event.remove(u,e.type,e.fn)})):(u.each(function(){e.fn.apply(this)}),this.fn2&&i.length>0&&$.each(i,function(i,u){$.inArray(u,t)<0&&e.fn2.apply(u)}))}}},$.extend($.livequery,{guid:0,queries:[],queue:[],running:!1,timeout:null,checkQueue:function(){if($.livequery.running&&$.livequery.queue.length)for(var e=$.livequery.queue.length;e--;)$.livequery.queries[$.livequery.queue.shift()].run()},pause:function(){$.livequery.running=!1},play:function(){$.livequery.running=!0,$.livequery.run()},registerPlugin:function(){$.each(arguments,function(e,i){if($.fn[i]){var t=$.fn[i];$.fn[i]=function(){var e=t.apply(this,arguments);return $.livequery.run(),e}}})},run:function(e){void 0!=e?$.inArray(e,$.livequery.queue)<0&&$.livequery.queue.push(e):$.each($.livequery.queries,function(e){$.inArray(e,$.livequery.queue)<0&&$.livequery.queue.push(e)}),$.livequery.timeout&&clearTimeout($.livequery.timeout),$.livequery.timeout=setTimeout($.livequery.checkQueue,20)},stop:function(e){void 0!=e?$.livequery.queries[e].stop():$.each($.livequery.queries,function(e){$.livequery.queries[e].stop()})}}),$.livequery.registerPlugin("append","prepend","after","before","wrap","attr","removeAttr","addClass","removeClass","toggleClass","empty","remove","html"),$(function(){$.livequery.play()})}(jQuery);